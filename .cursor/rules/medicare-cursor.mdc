---
description: For building our Medicare App (MVP)
globs: 
---
# ğŸ“˜ RULES.md â€“ Medicare App (MVP)

This file defines the rules and best practices Cursor should follow while generating the code for the Medicare Reminder App. The MVP version includes only the core P0 features â€” no push notifications or scheduling logic beyond local storage and backend interactions.

---

## ğŸš€ Tech Stack Overview

### Frontend:
- **React Native** using **Expo**
- **Expo Router** for navigation
- **TypeScript** for all components and logic

### Backend:
- **Node.js** with **Express**
- RESTful API

### Authentication & Database:
- **Supabase** for:
  - Authentication (email/password only)
  - PostgreSQL database
- **Prisma ORM** for schema management and data querying

---

## ğŸ“ Project Structure (Best Practices)
/
â”œâ”€â”€ app/ # Screens routed with Expo Router
â”‚ â”œâ”€â”€ (auth)/ # Sign up / Login screens
â”‚ â”œâ”€â”€ (patient)/ # Patient dashboard, medication list
â”‚ â”œâ”€â”€ (caregiver)/ # Caregiver dashboard, add/edit meds
â”œâ”€â”€ components/ # Reusable UI components
â”œâ”€â”€ lib/ # Supabase client, utilities
â”œâ”€â”€ services/ # API functions for frontend/backend
â”œâ”€â”€ backend/ # Node.js + Express backend
â”‚ â”œâ”€â”€ routes/ # REST API routes
â”‚ â”œâ”€â”€ controllers/ # Business logic
â”‚ â”œâ”€â”€ prisma/ # Prisma schema and client
â”‚ â”œâ”€â”€ utils/ # Helper functions


---

## âœ… Cursor Generation Rules

### UI & UX:
- Build **simple, modern, clean, and accessible UIs**.
- Use **Form components** with validation for medication inputs.
- Maintain **clear user roles** (Patient vs. Caregiver) across screens.

### Code Style:
- Use **TypeScript** everywhere.
- Follow **PascalCase for Components**, **camelCase for variables**.
- Write **reusable hooks** for Supabase API calls.
- Always **fetch API keys and endpoints from `.env`**.

### API Design:
- Use **REST API** for backend routes.
- Create **separate endpoints** for Patients and Caregivers.
- Structure backend by `routes/`, `controllers/`, `services/`.

### Authentication:
- Use **Supabase Auth** (email/password) for login/signup.
- Store session securely via Supabase client.

### Data Flow:
- Caregivers can:
  - Add medications for patients.
  - View current schedules.
- Patients can:
  - View medications for the day.
  - Mark as taken/skipped.

---

## ğŸ“¦ MVP (P0) Feature Scope

### Users:
- Signup/Login with Supabase (Patients and Caregivers)
- Profile page with role switch

### Medications:
- Caregiver:
  - Add medication name, dosage, frequency, start date, notes
  - View medications assigned to patients
- Patient:
  - View list of today's medications
  - Mark medication as taken or skipped

### Dashboard:
- Caregiver: List of assigned patients + medications
- Patient: Medication checklist for today

---

## ğŸš« Out of Scope (For MVP)
- Push/local notifications
- Calendar or time-based alerts
- Multi-language support
- Role-based permissions beyond Patient/Caregiver
- Third-party API integrations

---

## ğŸ“ Security Notes
- Never expose Supabase service role keys on frontend.
- Protect patient data using **Row-Level Security (RLS)** in Supabase (suggested).
- Sanitize all backend inputs.

---

## ğŸ§ª Testing
- Create test patients and medications using Supabase dashboard.
- Test each REST endpoint using Postman or Thunder Client.

---

## ğŸ§° Additional Notes
- Prisma schema should be written in `/backend/prisma/schema.prisma`
- Use `dotenv` to load environment variables for both backend and frontend
- Supabase project URL and anon key should be pulled from `.env`



